{"ast":null,"code":"var _jsxFileName = \"/home/phellipe/Documentos/Trybe/Bloco 18/react-hooks-exercises/src/TicTacToe.js\";\nimport React from 'react';\nimport GameBoard from './GameBoard';\n\nclass TicTacToe extends React.Component {\n  static victoryArchivedInLine(gameBoard) {\n    for (let i = 0; i <= 6; i += 3) {\n      if (gameBoard[i] === gameBoard[i + 1] && gameBoard[i + 1] === gameBoard[i + 2] && gameBoard[i] !== 0) return gameBoard[i];\n    }\n\n    return false;\n  }\n\n  static victoryArchivedInColumn(gameBoard) {\n    for (let i = 0; i <= 2; i += 1) {\n      if (gameBoard[i] === gameBoard[i + 3] && gameBoard[i + 3] === gameBoard[i + 6] && gameBoard[i] !== 0) return gameBoard[i];\n    }\n\n    return false;\n  }\n\n  static victoryArchivedInDiagonals(gameBoard) {\n    if (gameBoard[4] === 0) return false;\n\n    if (gameBoard[0] === gameBoard[4] && gameBoard[4] === gameBoard[8]) {\n      return gameBoard[0];\n    }\n\n    if (gameBoard[2] === gameBoard[4] && gameBoard[4] === gameBoard[6]) {\n      return gameBoard[2];\n    }\n\n    return false;\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      activePlayer: 1,\n      gameBoard: [0, 0, 0, 0, 0, 0, 0, 0, 0]\n    };\n    this.updateState = this.updateState.bind(this);\n    this.resetGame = this.resetGame.bind(this);\n    this.renderButton = this.renderButton.bind(this);\n  }\n\n  resetGame() {\n    this.setState({\n      activePlayer: 1,\n      gameBoard: [0, 0, 0, 0, 0, 0, 0, 0, 0]\n    });\n  }\n\n  toggleActivePlayer() {\n    const {\n      activePlayer\n    } = this.state;\n    if (activePlayer === 1) return 2;\n    return 1;\n  }\n\n  updateState(cellClicked) {\n    this.setState(state => {\n      const newState = [...state.gameBoard];\n      let newActivePlayer = state.activePlayer;\n\n      if (state.gameBoard[cellClicked] === 0) {\n        newState[cellClicked] = state.activePlayer;\n        newActivePlayer = this.toggleActivePlayer();\n      } else newState[cellClicked] = state.gameBoard[cellClicked];\n\n      return {\n        activePlayer: newActivePlayer,\n        gameBoard: newState\n      };\n    });\n  }\n\n  victoryArchieved() {\n    const {\n      gameBoard\n    } = this.state;\n    return TicTacToe.victoryArchivedInLine(gameBoard) || TicTacToe.victoryArchivedInColumn(gameBoard) || TicTacToe.victoryArchivedInDiagonals(gameBoard);\n  }\n\n  renderButton() {\n    return /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      onClick: this.resetGame,\n      \"data-testid\": \"restart-button\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 7\n      }\n    }, \"Recome\\xE7ar Jogo\");\n  }\n\n  render() {\n    const {\n      gameBoard\n    } = this.state;\n    const win = this.victoryArchieved();\n\n    if (!gameBoard.includes(0)) {\n      return /*#__PURE__*/React.createElement(React.Fragment, null, this.renderButton(), /*#__PURE__*/React.createElement(\"h1\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 11\n        }\n      }, \"Empate\"));\n    }\n\n    return /*#__PURE__*/React.createElement(React.Fragment, null, this.renderButton(), !win ? /*#__PURE__*/React.createElement(GameBoard, {\n      gameState: gameBoard,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 13\n      }\n    }) : /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 13\n      }\n    }, `Player ${win === 2 ? 'O' : 'X'} Ganhou`));\n  }\n\n}\n\nexport default TicTacToe;","map":{"version":3,"sources":["/home/phellipe/Documentos/Trybe/Bloco 18/react-hooks-exercises/src/TicTacToe.js"],"names":["React","GameBoard","TicTacToe","Component","victoryArchivedInLine","gameBoard","i","victoryArchivedInColumn","victoryArchivedInDiagonals","constructor","props","state","activePlayer","updateState","bind","resetGame","renderButton","setState","toggleActivePlayer","cellClicked","newState","newActivePlayer","victoryArchieved","render","win","includes"],"mappings":"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","sourcesContent":["import React from 'react';\nimport GameBoard from './GameBoard';\n\nclass TicTacToe extends React.Component {\n  static victoryArchivedInLine(gameBoard) {\n    for (let i = 0; i <= 6; i += 3) {\n      if (\n        gameBoard[i] === gameBoard[i + 1]\n        && gameBoard[i + 1] === gameBoard[i + 2]\n        && gameBoard[i] !== 0\n      ) return gameBoard[i];\n    }\n    return false;\n  }\n\n  static victoryArchivedInColumn(gameBoard) {\n    for (let i = 0; i <= 2; i += 1) {\n      if (\n        gameBoard[i] === gameBoard[i + 3]\n        && gameBoard[i + 3] === gameBoard[i + 6]\n        && gameBoard[i] !== 0\n      ) return gameBoard[i];\n    }\n    return false;\n  }\n\n  static victoryArchivedInDiagonals(gameBoard) {\n    if (gameBoard[4] === 0) return false;\n    if (gameBoard[0] === gameBoard[4] && gameBoard[4] === gameBoard[8]) {\n      return gameBoard[0];\n    }\n    if (gameBoard[2] === gameBoard[4] && gameBoard[4] === gameBoard[6]) {\n      return gameBoard[2];\n    }\n    return false;\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      activePlayer: 1,\n      gameBoard: [0, 0, 0, 0, 0, 0, 0, 0, 0],\n    };\n\n    this.updateState = this.updateState.bind(this);\n    this.resetGame = this.resetGame.bind(this);\n    this.renderButton = this.renderButton.bind(this);\n  }\n\n  resetGame() {\n    this.setState({\n      activePlayer: 1,\n      gameBoard: [0, 0, 0, 0, 0, 0, 0, 0, 0],\n    });\n  }\n\n  toggleActivePlayer() {\n    const { activePlayer } = this.state;\n    if (activePlayer === 1) return 2;\n    return 1;\n  }\n\n  updateState(cellClicked) {\n    this.setState((state) => {\n      const newState = [...state.gameBoard];\n      let newActivePlayer = state.activePlayer;\n\n      if (state.gameBoard[cellClicked] === 0) {\n        newState[cellClicked] = state.activePlayer;\n        newActivePlayer = this.toggleActivePlayer();\n      } else newState[cellClicked] = state.gameBoard[cellClicked];\n\n      return {\n        activePlayer: newActivePlayer,\n        gameBoard: newState,\n      };\n    });\n  }\n\n  victoryArchieved() {\n    const { gameBoard } = this.state;\n\n    return (\n      TicTacToe.victoryArchivedInLine(gameBoard)\n      || TicTacToe.victoryArchivedInColumn(gameBoard)\n      || TicTacToe.victoryArchivedInDiagonals(gameBoard)\n    );\n  }\n\n  renderButton() {\n    return (\n      <button\n        type=\"button\"\n        onClick={this.resetGame}\n        data-testid=\"restart-button\"\n      >\n        Recomeçar Jogo\n      </button>\n    );\n  }\n\n  render() {\n    const { gameBoard } = this.state;\n    const win = this.victoryArchieved();\n    if (!gameBoard.includes(0)) {\n      return (\n        <>\n          {this.renderButton()}\n          <h1>Empate</h1>\n        </>\n      );\n    }\n    return (\n      <>\n        {this.renderButton()}\n        {(!win)\n          ? (\n            <GameBoard\n              gameState={gameBoard}\n            />\n          )\n          : <h1>{`Player ${win === 2 ? 'O' : 'X'} Ganhou`}</h1>}\n      </>\n    );\n  }\n}\n\nexport default TicTacToe;"]},"metadata":{},"sourceType":"module"}